{"version":3,"sources":["components/User.js","components/UserList.js","components/Spectator.js","components/SpectatorList.js","globals/index.js","components/NavigationBar.js","components/PokerCard.js","components/PokerCardSpecial.js","components/PokerCards.js","svg/eye.svg","svg/eye-slash.svg","components/PlanningPage.js","components/LoginForm.js","App.js","reportWebVitals.js","index.js"],"names":["User","props","badge","undefined","isSpecialMark","mark","markVisible","itsMe","src","style","width","height","alt","className","liClass","userName","id","UserList","users","map","user","name","marksVisible","currentUserName","Spectator","SpectatorList","class","fontSize","spectators","NavigationBar","event","a","url","config","userdatastr","localStorage","getItem","fetch","method","headers","userData","isAuthenticated","setAuthState","removeItem","href","type","onClick","PokerCard","modalOnSelect","title","PokerCardSpecial","img","PokerCards","variant","PlanningPage","intervalID","useRef","useState","userState","setUserState","setMark","markClient","setMarkClient","show","setShow","setMarksVisible","userIDs","spectatorIDs","state","setState","list","setSpectators","Accept","response","json","isSpectator","prev","tick","current","setInterval","console","error","responseData","sendMark","reqBody","JSON","stringify","body","text","keyCode","selectedValue","mark_temp","useEffect","getUserData","clearInterval","myUserDataOnServer","find","us","bg","onChange","target","value","onKeyUp","eye_svg","eye_slash_svg","length","tabIndex","LoginForm","loginclick","result","userDataFromServer","setItem","placeholder","htmlFor","App","userstr","parse","AuthState","minWidth","minHeight","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2770f019.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport const User = (props) => {\r\n  var badge = undefined;\r\n  var isSpecialMark = (props.mark === \"coffee\") || (props.mark === \"infinity\");\r\n\r\n  if (!props.markVisible & props.itsMe & (props.mark !== undefined)) {\r\n    if (isSpecialMark) {\r\n      badge = (\r\n        <img\r\n          src={props.mark + \"-light.svg\"}\r\n          style={{ width: \"1.5rem\", height: \"100%\" }}\r\n          alt={props.mark}\r\n        />\r\n      );\r\n    } else {\r\n      badge = (\r\n        <span className=\"badge rounded-pill bg-secondary mt-1\">\r\n          {props.mark}\r\n        </span>\r\n      );\r\n    }\r\n  } else if (props.markVisible) {\r\n    if (isSpecialMark) {\r\n      badge = (\r\n        <img\r\n          src={props.mark + \"-dark.svg\"}\r\n          style={{ width: \"1.5rem\", height: \"100%\" }}\r\n          alt={props.mark}\r\n        />\r\n      );\r\n    } else {\r\n      badge = (\r\n        <span className=\"badge rounded-pill bg-primary mt-1\">{props.mark}</span>\r\n      );\r\n    }\r\n  }\r\n  var liClass =\r\n    \"list-group-item justify-content-between align-items-center\" +\r\n    (props.mark !== undefined ? \" list-group-item-success\" : \"\");\r\n\r\n  return (\r\n    <li className={liClass} key={props.id}>\r\n      <div className=\"d-flex justify-content-between my-1\">\r\n        {props.userName}\r\n        {badge !== undefined && badge}\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n","// Представляет список активных пользователей.\r\nimport React from \"react\";\r\nimport { User } from \"./User\";\r\n\r\nexport const UserList = (props) => {\r\n  return (\r\n    <ul className=\"list-group my-2\">\r\n      {props.users.map((user) => (\r\n        <User\r\n          key={user.id}\r\n          id={user.id}\r\n          userName={user.name}\r\n          mark={user.mark}\r\n          markVisible={props.marksVisible}\r\n          itsMe={props.currentUserName === user.name}\r\n        ></User>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n","import React from 'react';\r\n\r\nexport const Spectator = (props) => {\r\n\r\n  return (\r\n    <li className=\"list-group-item justify-content-between align-items-center py-1\" key={props.id}>\r\n        <div className=\"d-flex justify-content-between\">\r\n          {props.userName}\r\n        </div>\r\n    </li>\r\n  )\r\n}","// Представляет список активных пользователей.\r\nimport React from \"react\";\r\nimport { Spectator } from \"./Spectator\";\r\n\r\nexport const SpectatorList = (props) => {\r\n  return (\r\n    <ul class=\"list-group\" style={{fontSize: '.8rem'}}>\r\n      {props.spectators.map((user) => (\r\n        <Spectator\r\n          key={user.id}\r\n          id={user.id}\r\n          userName={user.name}\r\n        //   itsMe={props.currentUserName === user.name}\r\n        ></Spectator>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n","// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default {\r\n    baseUrl : 'http://109.196.164.69:80'\r\n}","import React from \"react\";\r\nimport config from '../globals/index'\r\n\r\nexport const NavigationBar = (props) => {\r\n  async function logoutClick(event) {\r\n    const url = `${config.baseUrl}/api/logOut`;\r\n    var userdatastr = localStorage.getItem('user')\r\n    await fetch(url, {\r\n      method: \"POST\",\r\n      headers: {\r\n        'user-data': userdatastr\r\n      }\r\n    });\r\n    // Процедура, переданная из самого корня.\r\n    const userData = {\r\n      userName: undefined,\r\n      isAuthenticated: false,\r\n    };\r\n    props.setAuthState(userData);\r\n    localStorage.removeItem('user')\r\n  }\r\n\r\n  async function fullReset(event) {\r\n    const url = `${config.baseUrl}/api/fullReset`;\r\n    await fetch(url, { method: \"POST\" });\r\n  }\r\n\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n      <div className=\"container-fluid\">\r\n        <a className=\"navbar-brand\" href=\"#\">\r\n          {props.userName}\r\n        </a>\r\n        <button\r\n          className=\"navbar-toggler\"\r\n          type=\"button\"\r\n          data-bs-toggle=\"collapse\"\r\n          data-bs-target=\"#navbarSupportedContent\"\r\n          aria-controls=\"navbarSupportedContent\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"Toggle navigation\"\r\n        >\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n          <div className=\"navbar-nav\">\r\n            <a className=\"nav-link\" href=\"#\" onClick={logoutClick}>\r\n              Разлогиниться\r\n            </a>\r\n            <a className=\"nav-link\" href=\"#\" onClick={fullReset}>\r\n              Полный сброс\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport const PokerCard = (props) => {\r\n  async function onClick() {\r\n    await props.modalOnSelect(props.title);\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"card my-2 text-center\"\r\n      style={{ width: \"18rem\" }}\r\n      onClick={onClick}\r\n    >\r\n      <div className=\"card-body\">\r\n        <h5\r\n          className=\"card-title align-middle\"\r\n          data-bs-toggle=\"modal\"\r\n          data-bs-target=\"#myModal\"\r\n          style={{ fontSize: \"2rem\" }}\r\n        >\r\n          {props.title}\r\n        </h5>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport const PokerCardSpecial = (props) => {\r\n  async function onClick() {\r\n    await props.modalOnSelect(props.title);\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"card my-2 text-center\"\r\n      style={{ width: \"18rem\", height: \"100%\" }}\r\n      onClick={onClick}\r\n    >\r\n      <img\r\n        src={props.img}\r\n        className=\"card-img my-2\"\r\n        style={{ width: \"18rem\", height: \"4rem\" }}\r\n        alt=\"...\"\r\n        data-bs-toggle=\"modal\"\r\n        data-bs-target=\"#myModal\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { PokerCard } from \"./PokerCard\";\r\nimport { PokerCardSpecial } from \"./PokerCardSpecial\";\r\n\r\nexport const PokerCards = (props) => {\r\n  var marks = [\r\n    \"0\",\r\n    \"0.5\",\r\n    \"1\",\r\n    \"2\",\r\n    \"3\",\r\n    \"5\",\r\n    \"8\",\r\n    \"13\",\r\n    \"21\",\r\n    \"34\",\r\n    \"55\",\r\n    \"89\",\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <PokerCardSpecial\r\n        variant=\"primary\"\r\n        key=\"coffee\"\r\n        title=\"coffee\"\r\n        img=\"coffee-dark.svg\"\r\n        modalOnSelect={props.modalOnSelect}\r\n      />\r\n      {marks.map((mark) => (\r\n        <PokerCard\r\n          variant=\"primary\"\r\n          key={mark}\r\n          title={mark}\r\n          modalOnSelect={props.modalOnSelect}\r\n        />\r\n      ))}\r\n      <PokerCardSpecial\r\n        variant=\"primary\"\r\n        key=\"infinity\"\r\n        title=\"infinity\"\r\n        img=\"infinity-dark.svg\"\r\n        modalOnSelect={props.modalOnSelect}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/eye.5ad2f0fa.svg\";","export default __webpack_public_path__ + \"static/media/eye-slash.3ddd08de.svg\";","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { UserList } from \"./UserList\";\r\nimport { SpectatorList } from \"./SpectatorList\";\r\nimport { NavigationBar } from \"./NavigationBar\";\r\nimport { PokerCards } from \"./PokerCards\";\r\nimport { Modal } from \"bootstrap\"\r\nimport config from '../globals/index'\r\nimport eye_svg from '../svg/eye.svg'\r\nimport eye_slash_svg from '../svg/eye-slash.svg'\r\n\r\nexport const PlanningPage = (props) => {\r\n  const intervalID = useRef(undefined);\r\n\r\n  // Стейт текущего пользователя.\r\n  const [userState, setUserState] = useState({\r\n    user: {}, // name, isSpectator\r\n  });\r\n\r\n  // Оценка, которая была отправлена на сервер. При изменении обязательно должна\r\n  // отправиться на сервер.\r\n  const [mark, setMark] = useState(undefined);\r\n\r\n  // Оценка, которая изменяется в поле ввода, но не обязательно отправлялась на сервер.\r\n  const [markClient, setMarkClient] = useState(undefined);\r\n\r\n  // Показывается ли в текущий момент модальное окно выбора оценки.\r\n  const [show, setShow] = useState(false);\r\n\r\n  const [marksVisible, setMarksVisible] = useState(false);\r\n\r\n  const [state, setState] = useState({\r\n    users: [], // Пользователи со всеми данными.\r\n    spectators: [], // Зрители со всеми данными.\r\n    userIDs: [], // Просто массив идентификаторов пользователей\r\n    spectatorIDs: [], // Просто массив идентификаторов зрителей\r\n    marksVisible: false, // Оценки вскрыты?\r\n  });\r\n\r\n  const [spectators, setSpectators] = useState({ list: [] });\r\n\r\n  useEffect(() => {\r\n    // Запрашиваем с сервера, как он видит текущего пользователя.\r\n    // Устанавливаем обработчик ожидания tick.\r\n    getUserData();\r\n    return () => {\r\n      clearInterval(intervalID.current);\r\n    };\r\n  }, [props]);\r\n\r\n  useEffect(() => {\r\n    // undefined - это когда происходит очистка оценок.\r\n    if (mark !== undefined) {\r\n      sendMark();\r\n    }\r\n  }, [mark]);\r\n\r\n  useEffect(() => {\r\n    // console.log(\"useEffect markClient\")\r\n  }, [markClient]);\r\n\r\n  // Возникает, когда на сервере меняется таблица пользователей.\r\n  useEffect(() => {\r\n    // console.log(\"useEffect state \", state)\r\n\r\n    var myUserDataOnServer = state.users.find(\r\n      (us) => us.name === userState.user.name\r\n    );\r\n    if (\r\n      myUserDataOnServer !== undefined &&\r\n      myUserDataOnServer.mark === undefined &&\r\n      mark !== undefined\r\n    ) {\r\n      setMark(undefined);\r\n    }\r\n\r\n    // if (marksVisible === false) {\r\n    //   setMark(undefined)\r\n    // }\r\n  }, [state]);\r\n\r\n  async function getUserData() {\r\n    try {\r\n      const url = `${config.baseUrl}/api/getUserData`;\r\n      var userdatastr = localStorage.getItem('user')\r\n      // if (userdata === null) {\r\n      //   userdata \r\n      // }\r\n      const response = await fetch(url, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n          'user-data': userdatastr\r\n        },\r\n      });\r\n      const json = await response.json();\r\n      const user = {\r\n        name: json.user,\r\n        isSpectator: json.isSpectator,\r\n      };\r\n      setUserState((prev) => {\r\n        return {\r\n          ...prev,\r\n          user: user,\r\n        };\r\n      });\r\n      await tick();\r\n      intervalID.current = setInterval(tick, 2000);\r\n    } catch (error) {\r\n      console.error(\"Ошибка:\", error);\r\n    }\r\n  }\r\n\r\n  // Глобальный клиентский тик.\r\n  async function tick() {\r\n    try {\r\n      const url = `${config.baseUrl}/api/tick`;\r\n      var userdatastr = localStorage.getItem('user')\r\n      const response = await fetch(url, {\r\n        headers: {\r\n          'Content-Type': 'application/json;charset=utf-8',\r\n          'user-data': userdatastr\r\n        }\r\n      });\r\n      const responseData = await response.json();\r\n      setState((prev) => {\r\n        return {\r\n          ...prev,\r\n          users: responseData.users,\r\n        };\r\n      });\r\n      setSpectators((prev) => {\r\n        return {\r\n          ...prev,\r\n          list: responseData.spectators,\r\n        };\r\n      });\r\n      setMarksVisible(responseData.marksVisible);\r\n    } catch (error) {\r\n      console.error(\"Ошибка:\", error);\r\n    }\r\n  }\r\n\r\n  function markChange(event) {\r\n    var mark_temp = event.target.value;\r\n    setMarkClient(mark_temp);\r\n  }\r\n\r\n  async function sendMark() {\r\n    try {\r\n      // console.log(\"sendMark()\")\r\n      const url = `${config.baseUrl}/api/sendMark`;\r\n      const reqBody = {\r\n        user: userState.user.name,\r\n        mark: markClient, // на сервер отправляем клиентскую оценку.\r\n      };\r\n      // console.log(reqBody)\r\n      const response = await fetch(url, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json;charset=utf-8\",\r\n          'user-data': JSON.stringify(userState.user)\r\n        },\r\n        body: JSON.stringify(reqBody),\r\n      });\r\n      await response.text();\r\n      await tick();\r\n    } catch (error) {\r\n      console.error(\"Ошибка:\", error);\r\n    }\r\n  }\r\n\r\n  async function markKeyUp(event) {\r\n    if (event.keyCode === 13) {\r\n      sendMark();\r\n    }\r\n  }\r\n\r\n  async function openClick(event) {\r\n    try {\r\n      const url = `${config.baseUrl}/api/showMarks`;\r\n      await fetch(url, { method: \"POST\" });\r\n      tick();\r\n    } catch (error) {\r\n      console.error(\"Ошибка:\", error);\r\n    }\r\n  }\r\n\r\n  async function clearMarksClick(event) {\r\n    try {\r\n      const url = `${config.baseUrl}/api/clearMarks`;\r\n      await fetch(url, { method: \"POST\" });\r\n      tick();\r\n    } catch (error) {\r\n      console.error(\"Ошибка:\", error);\r\n    }\r\n  }\r\n\r\n  async function markSelect(event) {\r\n    try {\r\n      setShow(true);\r\n    } catch (error) {\r\n      console.error(\"Ошибка:\", error);\r\n    }\r\n  }\r\n\r\n  async function modalOnSelect(selectedValue) {\r\n    setShow(false);\r\n    var mark_temp = selectedValue;\r\n    setMarkClient(mark_temp);\r\n    setMark(mark_temp); // Сразу будет отправлено.\r\n  }\r\n\r\n  async function changeMark() {\r\n    await setMark(markClient);\r\n  }\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  return (\r\n    <div bg=\"light\">\r\n      <NavigationBar\r\n        userName={userState.user.name}\r\n        setAuthState={props.setAuthState}\r\n      />\r\n      <div className=\"container-sm\">\r\n        <div className=\"input-group input-group-lg my-2\">\r\n          <span className=\"input-group-text\">Оценка</span>\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control\"\r\n            onChange={markChange}\r\n            onKeyUp={markKeyUp}\r\n            value={markClient || \"\"}\r\n          ></input>\r\n          <button\r\n            className=\"btn btn-secondary\"\r\n            type=\"button\"\r\n            data-bs-toggle=\"modal\"\r\n            data-bs-target=\"#myModal\"\r\n            // id=\"button-addon2\"\r\n            onClick={markSelect}\r\n          >\r\n            . . .\r\n          </button>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-primary btn-lg my-2\"\r\n          onClick={changeMark}\r\n        >\r\n          Отправить\r\n        </button>\r\n        <UserList\r\n          users={state.users}\r\n          marksVisible={marksVisible}\r\n          currentUserName={userState.user.name}\r\n        />\r\n        <img\r\n          className=\"my-2\"\r\n          src={marksVisible ? eye_svg : eye_slash_svg}\r\n        // width=\"24\"\r\n        // height=\"24\"\r\n        />\r\n        <div className=\"pt-2\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-success btn-lg\"\r\n            onClick={openClick}\r\n          >\r\n            Вскрываемся\r\n          </button>\r\n        </div>\r\n        <div className=\"my-2\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-warning btn-lg my-2\"\r\n            onClick={clearMarksClick}\r\n          >\r\n            Очистить оценки\r\n          </button>\r\n        </div>\r\n        {spectators.list.length !== 0 && (\r\n          <div className=\"card my-4\">\r\n            <div className=\"card-header\">Зрители</div>\r\n            <div className=\"card-body\">\r\n              <SpectatorList\r\n                className=\"my-2 px-2\"\r\n                spectators={spectators.list}\r\n              />\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div\r\n        className={\"modal fade\"}\r\n        id=\"myModal\"\r\n        tabIndex=\"-1\"\r\n        aria-labelledby=\"exampleModalLabel\"\r\n        data-bs-backdrop=\"static\"\r\n        data-bs-keyboard=\"false\"\r\n        aria-hidden={!show}\r\n      // aria-hidden=\"false\"\r\n      // onHide={handleClose}\r\n      >\r\n        <div className=\"modal-dialog\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h5 className=\"modal-title\">Выбор оценки</h5>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn-close\"\r\n                data-bs-dismiss=\"modal\"\r\n                aria-label=\"Закрыть\"\r\n              ></button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <PokerCards modalOnSelect={modalOnSelect} />\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary btn-lg my-2\"\r\n                data-bs-dismiss=\"modal\"\r\n                onClick={handleClose}\r\n              >\r\n                Закрыть\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from 'react';\r\nimport config from '../globals/index'\r\n\r\nexport const LoginForm = (props) => {\r\n\r\n  var userName = \"\"\r\n  var isSpectator = false\r\n\r\n  const [state, setState] = useState({\r\n    userName: \"\",\r\n    isSpectator: false\r\n  });\r\n\r\n  async function loginclick() {\r\n    const reqBody = {\r\n      userName: state.userName,\r\n      isSpectator: state.isSpectator\r\n    }\r\n    const result = await fetch(`${config.baseUrl}/api/login`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json;charset=utf-8'\r\n      },\r\n      body: JSON.stringify(reqBody)\r\n    })\r\n    const userDataFromServer = await result.json()\r\n    const userData = {\r\n      userName: userDataFromServer.name,\r\n      isSpectator: userDataFromServer.isSpectator,\r\n      isAuthenticated: true\r\n    }\r\n    // С сервера пришло подтверждение, запишем в локальное хранилище данные пользователя.\r\n    localStorage.setItem('user', JSON.stringify({name: userData.userName, isSpectator: userData.isSpectator}))\r\n    \r\n    props.setAuthState(userData)\r\n  }\r\n\r\n  function loginKeyUp(event) {\r\n    if (event.keyCode === 13) {\r\n      loginclick()\r\n    }\r\n  }\r\n\r\n  function userNameChange(event) {\r\n\r\n    userName = event.target.value\r\n    setState(prev => {\r\n      return {\r\n        ...prev,\r\n        userName: userName\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  function isSpectatorChange(event) {\r\n\r\n    isSpectator = event.target.value\r\n    setState(prev => {\r\n      return {\r\n        ...prev,\r\n        isSpectator: isSpectator\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"container-sm\">\r\n      <div className=\"input-group mb-3\">\r\n        <input\r\n          className=\"form-control form-control-lg\"\r\n          placeholder=\"Введите ваше имя\"\r\n          aria-label=\"Username\"\r\n          aria-describedby=\"basic-addon1\"\r\n          type=\"text\"\r\n          id=\"userName\"\r\n          value={state.userName}\r\n          onChange={userNameChange}\r\n          onKeyUp={loginKeyUp}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"input-group mb-3\">\r\n        <div className=\"form-check\">\r\n          <input\r\n            className=\"form-check-input\"\r\n            type=\"checkbox\"\r\n            id=\"isSpectator\"\r\n            value={state.isSpectator}\r\n            onChange={isSpectatorChange}\r\n          />\r\n          <label className=\"form-check-label\" htmlFor=\"isSpectator\">\r\n            Я только посмотреть\r\n          </label>\r\n        </div>\r\n      </div>\r\n      <div className=\"input-group mb-3\">\r\n        <button className=\"btn btn-primary\" onClick={loginclick}>\r\n          Войти\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n}","import React, { useState } from 'react'\r\n// import Cookies from 'universal-cookie'\r\nimport { PlanningPage } from './components/PlanningPage'\r\nimport { LoginForm } from './components/LoginForm'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nexport const App = (props) => {\r\n\r\n    const style = {\r\n        minWidth: '100vw',\r\n        minHeight: '100vh'\r\n    }\r\n\r\n    var user = undefined;\r\n    var userstr = localStorage.getItem(\"user\");\r\n    if (userstr !== null) {\r\n      user = JSON.parse(userstr);\r\n    }\r\n    \r\n    const isAuthenticated = (user !== undefined)\r\n\r\n    const [AuthState, setAuthState] = useState({\r\n        isAuthenticated: isAuthenticated,\r\n        isSpectator: isAuthenticated ? user.isSpectator : undefined,\r\n        userName: isAuthenticated ? user.name : undefined\r\n    })\r\n\r\n    return (\r\n        <div className=\"bg-light\" style={style}>\r\n            {AuthState.isAuthenticated ? (\r\n                <PlanningPage setAuthState={setAuthState} />\r\n            )\r\n                :\r\n                (\r\n                    <LoginForm setAuthState={setAuthState} />\r\n                )}\r\n        </div>\r\n    )\r\n}","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport {App} from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}